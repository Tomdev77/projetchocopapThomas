{"ast":null,"code":"/*!\r\n * jQuery & Zepto Lazy - v1.7.10\r\n * http://jquery.eisbehr.de/lazy/\r\n *\r\n * Copyright 2012 - 2018, Daniel 'Eisbehr' Kern\r\n *\r\n * Dual licensed under the MIT and GPL-2.0 licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl-2.0.html\r\n *\r\n * $(\"img.lazy\").lazy();\r\n */\n\n;\n(function (window, undefined) {\n  \"use strict\";\n\n  // noinspection JSUnresolvedVariable\n  /**\r\n   * library instance - here and not in construct to be shorter in minimization\r\n   * @return void\r\n   */\n  var $ = window.jQuery || window.Zepto,\n    /**\r\n     * unique plugin instance id counter\r\n     * @type {number}\r\n     */\n    lazyInstanceId = 0,\n    /**\r\n     * helper to register window load for jQuery 3\r\n     * @type {boolean}\r\n     */\n    windowLoaded = false;\n\n  /**\r\n   * make lazy available to jquery - and make it a bit more case-insensitive :)\r\n   * @access public\r\n   * @type {function}\r\n   * @param {object} settings\r\n   * @return {LazyPlugin}\r\n   */\n  $.fn.Lazy = $.fn.lazy = function (settings) {\n    return new LazyPlugin(this, settings);\n  };\n\n  /**\r\n   * helper to add plugins to lazy prototype configuration\r\n   * @access public\r\n   * @type {function}\r\n   * @param {string|Array} names\r\n   * @param {string|Array|function} [elements]\r\n   * @param {function} loader\r\n   * @return void\r\n   */\n  $.Lazy = $.lazy = function (names, elements, loader) {\n    // make second parameter optional\n    if ($.isFunction(elements)) {\n      loader = elements;\n      elements = [];\n    }\n\n    // exit here if parameter is not a callable function\n    if (!$.isFunction(loader)) {\n      return;\n    }\n\n    // make parameters an array of names to be sure\n    names = $.isArray(names) ? names : [names];\n    elements = $.isArray(elements) ? elements : [elements];\n    var config = LazyPlugin.prototype.config,\n      forced = config._f || (config._f = {});\n\n    // add the loader plugin for every name\n    for (var i = 0, l = names.length; i < l; i++) {\n      if (config[names[i]] === undefined || $.isFunction(config[names[i]])) {\n        config[names[i]] = loader;\n      }\n    }\n\n    // add forced elements loader\n    for (var c = 0, a = elements.length; c < a; c++) {\n      forced[elements[c]] = names[0];\n    }\n  };\n\n  /**\r\n   * contains all logic and the whole element handling\r\n   * is packed in a private function outside class to reduce memory usage, because it will not be created on every plugin instance\r\n   * @access private\r\n   * @type {function}\r\n   * @param {LazyPlugin} instance\r\n   * @param {object} config\r\n   * @param {object|Array} items\r\n   * @param {object} events\r\n   * @param {string} namespace\r\n   * @return void\r\n   */\n  function _executeLazy(instance, config, items, events, namespace) {\n    /**\r\n     * a helper to trigger the 'onFinishedAll' callback after all other events\r\n     * @access private\r\n     * @type {number}\r\n     */\n    var _awaitingAfterLoad = 0,\n      /**\r\n       * visible content width\r\n       * @access private\r\n       * @type {number}\r\n       */\n      _actualWidth = -1,\n      /**\r\n       * visible content height\r\n       * @access private\r\n       * @type {number}\r\n       */\n      _actualHeight = -1,\n      /**\r\n       * determine possibly detected high pixel density\r\n       * @access private\r\n       * @type {boolean}\r\n       */\n      _isRetinaDisplay = false,\n      /**\r\n       * dictionary entry for better minimization\r\n       * @access private\r\n       * @type {string}\r\n       */\n      _afterLoad = 'afterLoad',\n      /**\r\n       * dictionary entry for better minimization\r\n       * @access private\r\n       * @type {string}\r\n       */\n      _load = 'load',\n      /**\r\n       * dictionary entry for better minimization\r\n       * @access private\r\n       * @type {string}\r\n       */\n      _error = 'error',\n      /**\r\n       * dictionary entry for better minimization\r\n       * @access private\r\n       * @type {string}\r\n       */\n      _img = 'img',\n      /**\r\n       * dictionary entry for better minimization\r\n       * @access private\r\n       * @type {string}\r\n       */\n      _src = 'src',\n      /**\r\n       * dictionary entry for better minimization\r\n       * @access private\r\n       * @type {string}\r\n       */\n      _srcset = 'srcset',\n      /**\r\n       * dictionary entry for better minimization\r\n       * @access private\r\n       * @type {string}\r\n       */\n      _sizes = 'sizes',\n      /**\r\n       * dictionary entry for better minimization\r\n       * @access private\r\n       * @type {string}\r\n       */\n      _backgroundImage = 'background-image';\n\n    /**\r\n     * initialize plugin\r\n     * bind loading to events or set delay time to load all items at once\r\n     * @access private\r\n     * @return void\r\n     */\n    function _initialize() {\n      // detect actual device pixel ratio\n      // noinspection JSUnresolvedVariable\n      _isRetinaDisplay = window.devicePixelRatio > 1;\n\n      // prepare all initial items\n      items = _prepareItems(items);\n\n      // if delay time is set load all items at once after delay time\n      if (config.delay >= 0) {\n        setTimeout(function () {\n          _lazyLoadItems(true);\n        }, config.delay);\n      }\n\n      // if no delay is set or combine usage is active bind events\n      if (config.delay < 0 || config.combined) {\n        // create unique event function\n        events.e = _throttle(config.throttle, function (event) {\n          // reset detected window size on resize event\n          if (event.type === 'resize') {\n            _actualWidth = _actualHeight = -1;\n          }\n\n          // execute 'lazy magic'\n          _lazyLoadItems(event.all);\n        });\n\n        // create function to add new items to instance\n        events.a = function (additionalItems) {\n          additionalItems = _prepareItems(additionalItems);\n          items.push.apply(items, additionalItems);\n        };\n\n        // create function to get all instance items left\n        events.g = function () {\n          // filter loaded items before return in case internal filter was not running until now\n          return items = $(items).filter(function () {\n            return !$(this).data(config.loadedName);\n          });\n        };\n\n        // create function to force loading elements\n        events.f = function (forcedItems) {\n          for (var i = 0; i < forcedItems.length; i++) {\n            // only handle item if available in current instance\n            // use a compare function, because Zepto can't handle object parameter for filter\n            // var item = items.filter(forcedItems[i]);\n            /* jshint loopfunc: true */\n            var item = items.filter(function () {\n              return this === forcedItems[i];\n            });\n            if (item.length) {\n              _lazyLoadItems(false, item);\n            }\n          }\n        };\n\n        // load initial items\n        _lazyLoadItems();\n\n        // bind lazy load functions to scroll and resize event\n        // noinspection JSUnresolvedVariable\n        $(config.appendScroll).on('scroll.' + namespace + ' resize.' + namespace, events.e);\n      }\n    }\n\n    /**\r\n     * prepare items before handle them\r\n     * @access private\r\n     * @param {Array|object|jQuery} items\r\n     * @return {Array|object|jQuery}\r\n     */\n    function _prepareItems(items) {\n      // fetch used configurations before loops\n      var defaultImage = config.defaultImage,\n        placeholder = config.placeholder,\n        imageBase = config.imageBase,\n        srcsetAttribute = config.srcsetAttribute,\n        loaderAttribute = config.loaderAttribute,\n        forcedTags = config._f || {};\n\n      // filter items and only add those who not handled yet and got needed attributes available\n      items = $(items).filter(function () {\n        var element = $(this),\n          tag = _getElementTagName(this);\n        return !element.data(config.handledName) && (element.attr(config.attribute) || element.attr(srcsetAttribute) || element.attr(loaderAttribute) || forcedTags[tag] !== undefined);\n      })\n\n      // append plugin instance to all elements\n      .data('plugin_' + config.name, instance);\n      for (var i = 0, l = items.length; i < l; i++) {\n        var element = $(items[i]),\n          tag = _getElementTagName(items[i]),\n          elementImageBase = element.attr(config.imageBaseAttribute) || imageBase;\n\n        // generate and update source set if an image base is set\n        if (tag === _img && elementImageBase && element.attr(srcsetAttribute)) {\n          element.attr(srcsetAttribute, _getCorrectedSrcSet(element.attr(srcsetAttribute), elementImageBase));\n        }\n\n        // add loader to forced element types\n        if (forcedTags[tag] !== undefined && !element.attr(loaderAttribute)) {\n          element.attr(loaderAttribute, forcedTags[tag]);\n        }\n\n        // set default image on every element without source\n        if (tag === _img && defaultImage && !element.attr(_src)) {\n          element.attr(_src, defaultImage);\n        }\n\n        // set placeholder on every element without background image\n        else if (tag !== _img && placeholder && (!element.css(_backgroundImage) || element.css(_backgroundImage) === 'none')) {\n          element.css(_backgroundImage, \"url('\" + placeholder + \"')\");\n        }\n      }\n      return items;\n    }\n\n    /**\r\n     * the 'lazy magic' - check all items\r\n     * @access private\r\n     * @param {boolean} [allItems]\r\n     * @param {object} [forced]\r\n     * @return void\r\n     */\n    function _lazyLoadItems(allItems, forced) {\n      // skip if no items where left\n      if (!items.length) {\n        // destroy instance if option is enabled\n        if (config.autoDestroy) {\n          // noinspection JSUnresolvedFunction\n          instance.destroy();\n        }\n        return;\n      }\n      var elements = forced || items,\n        loadTriggered = false,\n        imageBase = config.imageBase || '',\n        srcsetAttribute = config.srcsetAttribute,\n        handledName = config.handledName;\n\n      // loop all available items\n      for (var i = 0; i < elements.length; i++) {\n        // item is at least in loadable area\n        if (allItems || forced || _isInLoadableArea(elements[i])) {\n          var element = $(elements[i]),\n            tag = _getElementTagName(elements[i]),\n            attribute = element.attr(config.attribute),\n            elementImageBase = element.attr(config.imageBaseAttribute) || imageBase,\n            customLoader = element.attr(config.loaderAttribute);\n\n          // is not already handled \n          if (!element.data(handledName) && (\n          // and is visible or visibility doesn't matter\n          !config.visibleOnly || element.is(':visible')) && (\n          // and image source or source set attribute is available\n          (attribute || element.attr(srcsetAttribute)) && (\n          // and is image tag where attribute is not equal source or source set\n          tag === _img && (elementImageBase + attribute !== element.attr(_src) || element.attr(srcsetAttribute) !== element.attr(_srcset)) ||\n          // or is non image tag where attribute is not equal background\n          tag !== _img && elementImageBase + attribute !== element.css(_backgroundImage)) ||\n          // or custom loader is available\n          customLoader)) {\n            // mark element always as handled as this point to prevent double handling\n            loadTriggered = true;\n            element.data(handledName, true);\n\n            // load item\n            _handleItem(element, tag, elementImageBase, customLoader);\n          }\n        }\n      }\n\n      // when something was loaded remove them from remaining items\n      if (loadTriggered) {\n        items = $(items).filter(function () {\n          return !$(this).data(handledName);\n        });\n      }\n    }\n\n    /**\r\n     * load the given element the lazy way\r\n     * @access private\r\n     * @param {object} element\r\n     * @param {string} tag\r\n     * @param {string} imageBase\r\n     * @param {function} [customLoader]\r\n     * @return void\r\n     */\n    function _handleItem(element, tag, imageBase, customLoader) {\n      // increment count of items waiting for after load\n      ++_awaitingAfterLoad;\n\n      // extended error callback for correct 'onFinishedAll' handling\n      var errorCallback = function () {\n        _triggerCallback('onError', element);\n        _reduceAwaiting();\n\n        // prevent further callback calls\n        errorCallback = $.noop;\n      };\n\n      // trigger function before loading image\n      _triggerCallback('beforeLoad', element);\n\n      // fetch all double used data here for better code minimization\n      var srcAttribute = config.attribute,\n        srcsetAttribute = config.srcsetAttribute,\n        sizesAttribute = config.sizesAttribute,\n        retinaAttribute = config.retinaAttribute,\n        removeAttribute = config.removeAttribute,\n        loadedName = config.loadedName,\n        elementRetina = element.attr(retinaAttribute);\n\n      // handle custom loader\n      if (customLoader) {\n        // on load callback\n        var loadCallback = function () {\n          // remove attribute from element\n          if (removeAttribute) {\n            element.removeAttr(config.loaderAttribute);\n          }\n\n          // mark element as loaded\n          element.data(loadedName, true);\n\n          // call after load event\n          _triggerCallback(_afterLoad, element);\n\n          // remove item from waiting queue and possibly trigger finished event\n          // it's needed to be asynchronous to run after filter was in _lazyLoadItems\n          setTimeout(_reduceAwaiting, 1);\n\n          // prevent further callback calls\n          loadCallback = $.noop;\n        };\n\n        // bind error event to trigger callback and reduce waiting amount\n        element.off(_error).one(_error, errorCallback)\n\n        // bind after load callback to element\n        .one(_load, loadCallback);\n\n        // trigger custom loader and handle response\n        if (!_triggerCallback(customLoader, element, function (response) {\n          if (response) {\n            element.off(_load);\n            loadCallback();\n          } else {\n            element.off(_error);\n            errorCallback();\n          }\n        })) {\n          element.trigger(_error);\n        }\n      }\n\n      // handle images\n      else {\n        // create image object\n        var imageObj = $(new Image());\n\n        // bind error event to trigger callback and reduce waiting amount\n        imageObj.one(_error, errorCallback)\n\n        // bind after load callback to image\n        .one(_load, function () {\n          // remove element from view\n          element.hide();\n\n          // set image back to element\n          // do it as single 'attr' calls, to be sure 'src' is set after 'srcset'\n          if (tag === _img) {\n            element.attr(_sizes, imageObj.attr(_sizes)).attr(_srcset, imageObj.attr(_srcset)).attr(_src, imageObj.attr(_src));\n          } else {\n            element.css(_backgroundImage, \"url('\" + imageObj.attr(_src) + \"')\");\n          }\n\n          // bring it back with some effect!\n          element[config.effect](config.effectTime);\n\n          // remove attribute from element\n          if (removeAttribute) {\n            element.removeAttr(srcAttribute + ' ' + srcsetAttribute + ' ' + retinaAttribute + ' ' + config.imageBaseAttribute);\n\n            // only remove 'sizes' attribute, if it was a custom one\n            if (sizesAttribute !== _sizes) {\n              element.removeAttr(sizesAttribute);\n            }\n          }\n\n          // mark element as loaded\n          element.data(loadedName, true);\n\n          // call after load event\n          _triggerCallback(_afterLoad, element);\n\n          // cleanup image object\n          imageObj.remove();\n\n          // remove item from waiting queue and possibly trigger finished event\n          _reduceAwaiting();\n        });\n\n        // set sources\n        // do it as single 'attr' calls, to be sure 'src' is set after 'srcset'\n        var imageSrc = (_isRetinaDisplay && elementRetina ? elementRetina : element.attr(srcAttribute)) || '';\n        imageObj.attr(_sizes, element.attr(sizesAttribute)).attr(_srcset, element.attr(srcsetAttribute)).attr(_src, imageSrc ? imageBase + imageSrc : null);\n\n        // call after load even on cached image\n        imageObj.complete && imageObj.trigger(_load); // jshint ignore : line\n      }\n    }\n\n    /**\r\n     * check if the given element is inside the current viewport or threshold\r\n     * @access private\r\n     * @param {object} element\r\n     * @return {boolean}\r\n     */\n    function _isInLoadableArea(element) {\n      var elementBound = element.getBoundingClientRect(),\n        direction = config.scrollDirection,\n        threshold = config.threshold,\n        vertical =\n        // check if element is in loadable area from top\n        _getActualHeight() + threshold > elementBound.top &&\n        // check if element is even in loadable are from bottom\n        -threshold < elementBound.bottom,\n        horizontal =\n        // check if element is in loadable area from left\n        _getActualWidth() + threshold > elementBound.left &&\n        // check if element is even in loadable area from right\n        -threshold < elementBound.right;\n      if (direction === 'vertical') {\n        return vertical;\n      } else if (direction === 'horizontal') {\n        return horizontal;\n      }\n      return vertical && horizontal;\n    }\n\n    /**\r\n     * receive the current viewed width of the browser\r\n     * @access private\r\n     * @return {number}\r\n     */\n    function _getActualWidth() {\n      return _actualWidth >= 0 ? _actualWidth : _actualWidth = $(window).width();\n    }\n\n    /**\r\n     * receive the current viewed height of the browser\r\n     * @access private\r\n     * @return {number}\r\n     */\n    function _getActualHeight() {\n      return _actualHeight >= 0 ? _actualHeight : _actualHeight = $(window).height();\n    }\n\n    /**\r\n     * get lowercase tag name of an element\r\n     * @access private\r\n     * @param {object} element\r\n     * @returns {string}\r\n     */\n    function _getElementTagName(element) {\n      return element.tagName.toLowerCase();\n    }\n\n    /**\r\n     * prepend image base to all srcset entries\r\n     * @access private\r\n     * @param {string} srcset\r\n     * @param {string} imageBase\r\n     * @returns {string}\r\n     */\n    function _getCorrectedSrcSet(srcset, imageBase) {\n      if (imageBase) {\n        // trim, remove unnecessary spaces and split entries\n        var entries = srcset.split(',');\n        srcset = '';\n        for (var i = 0, l = entries.length; i < l; i++) {\n          srcset += imageBase + entries[i].trim() + (i !== l - 1 ? ',' : '');\n        }\n      }\n      return srcset;\n    }\n\n    /**\r\n     * helper function to throttle down event triggering\r\n     * @access private\r\n     * @param {number} delay\r\n     * @param {function} callback\r\n     * @return {function}\r\n     */\n    function _throttle(delay, callback) {\n      var timeout,\n        lastExecute = 0;\n      return function (event, ignoreThrottle) {\n        var elapsed = +new Date() - lastExecute;\n        function run() {\n          lastExecute = +new Date();\n          // noinspection JSUnresolvedFunction\n          callback.call(instance, event);\n        }\n        timeout && clearTimeout(timeout); // jshint ignore : line\n\n        if (elapsed > delay || !config.enableThrottle || ignoreThrottle) {\n          run();\n        } else {\n          timeout = setTimeout(run, delay - elapsed);\n        }\n      };\n    }\n\n    /**\r\n     * reduce count of awaiting elements to 'afterLoad' event and fire 'onFinishedAll' if reached zero\r\n     * @access private\r\n     * @return void\r\n     */\n    function _reduceAwaiting() {\n      --_awaitingAfterLoad;\n\n      // if no items were left trigger finished event\n      if (!items.length && !_awaitingAfterLoad) {\n        _triggerCallback('onFinishedAll');\n      }\n    }\n\n    /**\r\n     * single implementation to handle callbacks, pass element and set 'this' to current instance\r\n     * @access private\r\n     * @param {string|function} callback\r\n     * @param {object} [element]\r\n     * @param {*} [args]\r\n     * @return {boolean}\r\n     */\n    function _triggerCallback(callback, element, args) {\n      if (callback = config[callback]) {\n        // jQuery's internal '$(arguments).slice(1)' are causing problems at least on old iPads\n        // below is shorthand of 'Array.prototype.slice.call(arguments, 1)'\n        callback.apply(instance, [].slice.call(arguments, 1));\n        return true;\n      }\n      return false;\n    }\n\n    // if event driven or window is already loaded don't wait for page loading\n    if (config.bind === 'event' || windowLoaded) {\n      _initialize();\n    }\n\n    // otherwise load initial items and start lazy after page load\n    else {\n      // noinspection JSUnresolvedVariable\n      $(window).on(_load + '.' + namespace, _initialize);\n    }\n  }\n\n  /**\r\n   * lazy plugin class constructor\r\n   * @constructor\r\n   * @access private\r\n   * @param {object} elements\r\n   * @param {object} settings\r\n   * @return {object|LazyPlugin}\r\n   */\n  function LazyPlugin(elements, settings) {\n    /**\r\n     * this lazy plugin instance\r\n     * @access private\r\n     * @type {object|LazyPlugin|LazyPlugin.prototype}\r\n     */\n    var _instance = this,\n      /**\r\n       * this lazy plugin instance configuration\r\n       * @access private\r\n       * @type {object}\r\n       */\n      _config = $.extend({}, _instance.config, settings),\n      /**\r\n       * instance generated event executed on container scroll or resize\r\n       * packed in an object to be referenceable and short named because properties will not be minified\r\n       * @access private\r\n       * @type {object}\r\n       */\n      _events = {},\n      /**\r\n       * unique namespace for instance related events\r\n       * @access private\r\n       * @type {string}\r\n       */\n      _namespace = _config.name + '-' + ++lazyInstanceId;\n\n    // noinspection JSUndefinedPropertyAssignment\n    /**\r\n     * wrapper to get or set an entry from plugin instance configuration\r\n     * much smaller on minify as direct access\r\n     * @access public\r\n     * @type {function}\r\n     * @param {string} entryName\r\n     * @param {*} [value]\r\n     * @return {LazyPlugin|*}\r\n     */\n    _instance.config = function (entryName, value) {\n      if (value === undefined) {\n        return _config[entryName];\n      }\n      _config[entryName] = value;\n      return _instance;\n    };\n\n    // noinspection JSUndefinedPropertyAssignment\n    /**\r\n     * add additional items to current instance\r\n     * @access public\r\n     * @param {Array|object|string} items\r\n     * @return {LazyPlugin}\r\n     */\n    _instance.addItems = function (items) {\n      _events.a && _events.a($.type(items) === 'string' ? $(items) : items); // jshint ignore : line\n      return _instance;\n    };\n\n    // noinspection JSUndefinedPropertyAssignment\n    /**\r\n     * get all left items of this instance\r\n     * @access public\r\n     * @returns {object}\r\n     */\n    _instance.getItems = function () {\n      return _events.g ? _events.g() : {};\n    };\n\n    // noinspection JSUndefinedPropertyAssignment\n    /**\r\n     * force lazy to load all items in loadable area right now\r\n     * by default without throttle\r\n     * @access public\r\n     * @type {function}\r\n     * @param {boolean} [useThrottle]\r\n     * @return {LazyPlugin}\r\n     */\n    _instance.update = function (useThrottle) {\n      _events.e && _events.e({}, !useThrottle); // jshint ignore : line\n      return _instance;\n    };\n\n    // noinspection JSUndefinedPropertyAssignment\n    /**\r\n     * force element(s) to load directly, ignoring the viewport\r\n     * @access public\r\n     * @param {Array|object|string} items\r\n     * @return {LazyPlugin}\r\n     */\n    _instance.force = function (items) {\n      _events.f && _events.f($.type(items) === 'string' ? $(items) : items); // jshint ignore : line\n      return _instance;\n    };\n\n    // noinspection JSUndefinedPropertyAssignment\n    /**\r\n     * force lazy to load all available items right now\r\n     * this call ignores throttling\r\n     * @access public\r\n     * @type {function}\r\n     * @return {LazyPlugin}\r\n     */\n    _instance.loadAll = function () {\n      _events.e && _events.e({\n        all: true\n      }, true); // jshint ignore : line\n      return _instance;\n    };\n\n    // noinspection JSUndefinedPropertyAssignment\n    /**\r\n     * destroy this plugin instance\r\n     * @access public\r\n     * @type {function}\r\n     * @return undefined\r\n     */\n    _instance.destroy = function () {\n      // unbind instance generated events\n      // noinspection JSUnresolvedFunction, JSUnresolvedVariable\n      $(_config.appendScroll).off('.' + _namespace, _events.e);\n      // noinspection JSUnresolvedVariable\n      $(window).off('.' + _namespace);\n\n      // clear events\n      _events = {};\n      return undefined;\n    };\n\n    // start using lazy and return all elements to be chainable or instance for further use\n    // noinspection JSUnresolvedVariable\n    _executeLazy(_instance, _config, elements, _events, _namespace);\n    return _config.chainable ? elements : _instance;\n  }\n\n  /**\r\n   * settings and configuration data\r\n   * @access public\r\n   * @type {object|*}\r\n   */\n  LazyPlugin.prototype.config = {\n    // general\n    name: 'lazy',\n    chainable: true,\n    autoDestroy: true,\n    bind: 'load',\n    threshold: 500,\n    visibleOnly: false,\n    appendScroll: window,\n    scrollDirection: 'both',\n    imageBase: null,\n    defaultImage: 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==',\n    placeholder: null,\n    delay: -1,\n    combined: false,\n    // attributes\n    attribute: 'data-src',\n    srcsetAttribute: 'data-srcset',\n    sizesAttribute: 'data-sizes',\n    retinaAttribute: 'data-retina',\n    loaderAttribute: 'data-loader',\n    imageBaseAttribute: 'data-imagebase',\n    removeAttribute: true,\n    handledName: 'handled',\n    loadedName: 'loaded',\n    // effect\n    effect: 'show',\n    effectTime: 0,\n    // throttle\n    enableThrottle: true,\n    throttle: 250,\n    // callbacks\n    beforeLoad: undefined,\n    afterLoad: undefined,\n    onError: undefined,\n    onFinishedAll: undefined\n  };\n\n  // register window load event globally to prevent not loading elements\n  // since jQuery 3.X ready state is fully async and may be executed after 'load' \n  $(window).on('load', function () {\n    windowLoaded = true;\n  });\n})(window);","map":{"version":3,"names":["window","undefined","$","jQuery","Zepto","lazyInstanceId","windowLoaded","fn","Lazy","lazy","settings","LazyPlugin","names","elements","loader","isFunction","isArray","config","prototype","forced","_f","i","l","length","c","a","_executeLazy","instance","items","events","namespace","_awaitingAfterLoad","_actualWidth","_actualHeight","_isRetinaDisplay","_afterLoad","_load","_error","_img","_src","_srcset","_sizes","_backgroundImage","_initialize","devicePixelRatio","_prepareItems","delay","setTimeout","_lazyLoadItems","combined","e","_throttle","throttle","event","type","all","additionalItems","push","apply","g","filter","data","loadedName","f","forcedItems","item","appendScroll","on","defaultImage","placeholder","imageBase","srcsetAttribute","loaderAttribute","forcedTags","element","tag","_getElementTagName","handledName","attr","attribute","name","elementImageBase","imageBaseAttribute","_getCorrectedSrcSet","css","allItems","autoDestroy","destroy","loadTriggered","_isInLoadableArea","customLoader","visibleOnly","is","_handleItem","errorCallback","_triggerCallback","_reduceAwaiting","noop","srcAttribute","sizesAttribute","retinaAttribute","removeAttribute","elementRetina","loadCallback","removeAttr","off","one","response","trigger","imageObj","Image","hide","effect","effectTime","remove","imageSrc","complete","elementBound","getBoundingClientRect","direction","scrollDirection","threshold","vertical","_getActualHeight","top","bottom","horizontal","_getActualWidth","left","right","width","height","tagName","toLowerCase","srcset","entries","split","trim","callback","timeout","lastExecute","ignoreThrottle","elapsed","Date","run","call","clearTimeout","enableThrottle","args","slice","arguments","bind","_instance","_config","extend","_events","_namespace","entryName","value","addItems","getItems","update","useThrottle","force","loadAll","chainable","beforeLoad","afterLoad","onError","onFinishedAll"],"sources":["C:/Users/CALVESI/OneDrive/Bureau/ProjectThomasChocoPap/node_modules/jquery-lazy/jquery.lazy.js"],"sourcesContent":["/*!\r\n * jQuery & Zepto Lazy - v1.7.10\r\n * http://jquery.eisbehr.de/lazy/\r\n *\r\n * Copyright 2012 - 2018, Daniel 'Eisbehr' Kern\r\n *\r\n * Dual licensed under the MIT and GPL-2.0 licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl-2.0.html\r\n *\r\n * $(\"img.lazy\").lazy();\r\n */\r\n\r\n;(function(window, undefined) {\r\n    \"use strict\";\r\n\r\n    // noinspection JSUnresolvedVariable\r\n    /**\r\n     * library instance - here and not in construct to be shorter in minimization\r\n     * @return void\r\n     */\r\n    var $ = window.jQuery || window.Zepto,\r\n\r\n    /**\r\n     * unique plugin instance id counter\r\n     * @type {number}\r\n     */\r\n    lazyInstanceId = 0,\r\n\r\n    /**\r\n     * helper to register window load for jQuery 3\r\n     * @type {boolean}\r\n     */    \r\n    windowLoaded = false;\r\n\r\n    /**\r\n     * make lazy available to jquery - and make it a bit more case-insensitive :)\r\n     * @access public\r\n     * @type {function}\r\n     * @param {object} settings\r\n     * @return {LazyPlugin}\r\n     */\r\n    $.fn.Lazy = $.fn.lazy = function(settings) {\r\n        return new LazyPlugin(this, settings);\r\n    };\r\n\r\n    /**\r\n     * helper to add plugins to lazy prototype configuration\r\n     * @access public\r\n     * @type {function}\r\n     * @param {string|Array} names\r\n     * @param {string|Array|function} [elements]\r\n     * @param {function} loader\r\n     * @return void\r\n     */\r\n    $.Lazy = $.lazy = function(names, elements, loader) {\r\n        // make second parameter optional\r\n        if ($.isFunction(elements)) {\r\n            loader = elements;\r\n            elements = [];\r\n        }\r\n\r\n        // exit here if parameter is not a callable function\r\n        if (!$.isFunction(loader)) {\r\n            return;\r\n        }\r\n\r\n        // make parameters an array of names to be sure\r\n        names = $.isArray(names) ? names : [names];\r\n        elements = $.isArray(elements) ? elements : [elements];\r\n\r\n        var config = LazyPlugin.prototype.config,\r\n            forced = config._f || (config._f = {});\r\n\r\n        // add the loader plugin for every name\r\n        for (var i = 0, l = names.length; i < l; i++) {\r\n            if (config[names[i]] === undefined || $.isFunction(config[names[i]])) {\r\n                config[names[i]] = loader;\r\n            }\r\n        }\r\n\r\n        // add forced elements loader\r\n        for (var c = 0, a = elements.length; c < a; c++) {\r\n            forced[elements[c]] = names[0];\r\n        }\r\n    };\r\n\r\n    /**\r\n     * contains all logic and the whole element handling\r\n     * is packed in a private function outside class to reduce memory usage, because it will not be created on every plugin instance\r\n     * @access private\r\n     * @type {function}\r\n     * @param {LazyPlugin} instance\r\n     * @param {object} config\r\n     * @param {object|Array} items\r\n     * @param {object} events\r\n     * @param {string} namespace\r\n     * @return void\r\n     */\r\n    function _executeLazy(instance, config, items, events, namespace) {\r\n        /**\r\n         * a helper to trigger the 'onFinishedAll' callback after all other events\r\n         * @access private\r\n         * @type {number}\r\n         */\r\n        var _awaitingAfterLoad = 0,\r\n\r\n        /**\r\n         * visible content width\r\n         * @access private\r\n         * @type {number}\r\n         */\r\n        _actualWidth = -1,\r\n\r\n        /**\r\n         * visible content height\r\n         * @access private\r\n         * @type {number}\r\n         */\r\n        _actualHeight = -1,\r\n\r\n        /**\r\n         * determine possibly detected high pixel density\r\n         * @access private\r\n         * @type {boolean}\r\n         */\r\n        _isRetinaDisplay = false, \r\n\r\n        /**\r\n         * dictionary entry for better minimization\r\n         * @access private\r\n         * @type {string}\r\n         */\r\n        _afterLoad = 'afterLoad',\r\n\r\n        /**\r\n         * dictionary entry for better minimization\r\n         * @access private\r\n         * @type {string}\r\n         */\r\n        _load = 'load',\r\n\r\n        /**\r\n         * dictionary entry for better minimization\r\n         * @access private\r\n         * @type {string}\r\n         */\r\n        _error = 'error',\r\n\r\n        /**\r\n         * dictionary entry for better minimization\r\n         * @access private\r\n         * @type {string}\r\n         */\r\n        _img = 'img',\r\n\r\n        /**\r\n         * dictionary entry for better minimization\r\n         * @access private\r\n         * @type {string}\r\n         */\r\n        _src = 'src',\r\n\r\n        /**\r\n         * dictionary entry for better minimization\r\n         * @access private\r\n         * @type {string}\r\n         */\r\n        _srcset = 'srcset',\r\n\r\n        /**\r\n         * dictionary entry for better minimization\r\n         * @access private\r\n         * @type {string}\r\n         */\r\n        _sizes = 'sizes',\r\n\r\n        /**\r\n         * dictionary entry for better minimization\r\n         * @access private\r\n         * @type {string}\r\n         */\r\n        _backgroundImage = 'background-image';\r\n\r\n        /**\r\n         * initialize plugin\r\n         * bind loading to events or set delay time to load all items at once\r\n         * @access private\r\n         * @return void\r\n         */\r\n        function _initialize() {\r\n            // detect actual device pixel ratio\r\n            // noinspection JSUnresolvedVariable\r\n            _isRetinaDisplay = window.devicePixelRatio > 1;\r\n\r\n            // prepare all initial items\r\n            items = _prepareItems(items);\r\n\r\n            // if delay time is set load all items at once after delay time\r\n            if (config.delay >= 0) {\r\n                setTimeout(function() {\r\n                    _lazyLoadItems(true);\r\n                }, config.delay);\r\n            }\r\n\r\n            // if no delay is set or combine usage is active bind events\r\n            if (config.delay < 0 || config.combined) {\r\n                // create unique event function\r\n                events.e = _throttle(config.throttle, function(event) {\r\n                    // reset detected window size on resize event\r\n                    if (event.type === 'resize') {\r\n                        _actualWidth = _actualHeight = -1;\r\n                    }\r\n\r\n                    // execute 'lazy magic'\r\n                    _lazyLoadItems(event.all);\r\n                });\r\n\r\n                // create function to add new items to instance\r\n                events.a = function(additionalItems) {\r\n                    additionalItems = _prepareItems(additionalItems);\r\n                    items.push.apply(items, additionalItems);\r\n                };\r\n\r\n                // create function to get all instance items left\r\n                events.g = function() {\r\n                    // filter loaded items before return in case internal filter was not running until now\r\n                    return (items = $(items).filter(function() {\r\n                        return !$(this).data(config.loadedName);\r\n                    }));\r\n                };\r\n\r\n                // create function to force loading elements\r\n                events.f = function(forcedItems) {\r\n                    for (var i = 0; i < forcedItems.length; i++) {\r\n                        // only handle item if available in current instance\r\n                        // use a compare function, because Zepto can't handle object parameter for filter\r\n                        // var item = items.filter(forcedItems[i]);\r\n                        /* jshint loopfunc: true */\r\n                        var item = items.filter(function() {\r\n                            return this === forcedItems[i];\r\n                        });\r\n\r\n                        if (item.length) {\r\n                            _lazyLoadItems(false, item);   \r\n                        }\r\n                    }\r\n                };\r\n\r\n                // load initial items\r\n                _lazyLoadItems();\r\n\r\n                // bind lazy load functions to scroll and resize event\r\n                // noinspection JSUnresolvedVariable\r\n                $(config.appendScroll).on('scroll.' + namespace + ' resize.' + namespace, events.e);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * prepare items before handle them\r\n         * @access private\r\n         * @param {Array|object|jQuery} items\r\n         * @return {Array|object|jQuery}\r\n         */\r\n        function _prepareItems(items) {\r\n            // fetch used configurations before loops\r\n            var defaultImage = config.defaultImage,\r\n                placeholder = config.placeholder,\r\n                imageBase = config.imageBase,\r\n                srcsetAttribute = config.srcsetAttribute,\r\n                loaderAttribute = config.loaderAttribute,\r\n                forcedTags = config._f || {};\r\n\r\n            // filter items and only add those who not handled yet and got needed attributes available\r\n            items = $(items).filter(function() {\r\n                var element = $(this),\r\n                    tag = _getElementTagName(this);\r\n\r\n                return !element.data(config.handledName) && \r\n                       (element.attr(config.attribute) || element.attr(srcsetAttribute) || element.attr(loaderAttribute) || forcedTags[tag] !== undefined);\r\n            })\r\n\r\n            // append plugin instance to all elements\r\n            .data('plugin_' + config.name, instance);\r\n\r\n            for (var i = 0, l = items.length; i < l; i++) {\r\n                var element = $(items[i]),\r\n                    tag = _getElementTagName(items[i]),\r\n                    elementImageBase = element.attr(config.imageBaseAttribute) || imageBase;\r\n\r\n                // generate and update source set if an image base is set\r\n                if (tag === _img && elementImageBase && element.attr(srcsetAttribute)) {\r\n                    element.attr(srcsetAttribute, _getCorrectedSrcSet(element.attr(srcsetAttribute), elementImageBase));\r\n                }\r\n\r\n                // add loader to forced element types\r\n                if (forcedTags[tag] !== undefined && !element.attr(loaderAttribute)) {\r\n                    element.attr(loaderAttribute, forcedTags[tag]);\r\n                }\r\n\r\n                // set default image on every element without source\r\n                if (tag === _img && defaultImage && !element.attr(_src)) {\r\n                    element.attr(_src, defaultImage);\r\n                }\r\n\r\n                // set placeholder on every element without background image\r\n                else if (tag !== _img && placeholder && (!element.css(_backgroundImage) || element.css(_backgroundImage) === 'none')) {\r\n                    element.css(_backgroundImage, \"url('\" + placeholder + \"')\");\r\n                }\r\n            }\r\n\r\n            return items;\r\n        }\r\n\r\n        /**\r\n         * the 'lazy magic' - check all items\r\n         * @access private\r\n         * @param {boolean} [allItems]\r\n         * @param {object} [forced]\r\n         * @return void\r\n         */\r\n        function _lazyLoadItems(allItems, forced) {\r\n            // skip if no items where left\r\n            if (!items.length) {\r\n                // destroy instance if option is enabled\r\n                if (config.autoDestroy) {\r\n                    // noinspection JSUnresolvedFunction\r\n                    instance.destroy();\r\n                }\r\n\r\n                return;\r\n            }\r\n\r\n            var elements = forced || items,\r\n                loadTriggered = false,\r\n                imageBase = config.imageBase || '',\r\n                srcsetAttribute = config.srcsetAttribute,\r\n                handledName = config.handledName;\r\n\r\n            // loop all available items\r\n            for (var i = 0; i < elements.length; i++) {\r\n                // item is at least in loadable area\r\n                if (allItems || forced || _isInLoadableArea(elements[i])) {\r\n                    var element = $(elements[i]),\r\n                        tag = _getElementTagName(elements[i]),\r\n                        attribute = element.attr(config.attribute),\r\n                        elementImageBase = element.attr(config.imageBaseAttribute) || imageBase,\r\n                        customLoader = element.attr(config.loaderAttribute);\r\n\r\n                        // is not already handled \r\n                    if (!element.data(handledName) &&\r\n                        // and is visible or visibility doesn't matter\r\n                        (!config.visibleOnly || element.is(':visible')) && (\r\n                        // and image source or source set attribute is available\r\n                        (attribute || element.attr(srcsetAttribute)) && (\r\n                            // and is image tag where attribute is not equal source or source set\r\n                            (tag === _img && (elementImageBase + attribute !== element.attr(_src) || element.attr(srcsetAttribute) !== element.attr(_srcset))) ||\r\n                            // or is non image tag where attribute is not equal background\r\n                            (tag !== _img && elementImageBase + attribute !== element.css(_backgroundImage))\r\n                        ) ||\r\n                        // or custom loader is available\r\n                        customLoader))\r\n                    {\r\n                        // mark element always as handled as this point to prevent double handling\r\n                        loadTriggered = true;\r\n                        element.data(handledName, true);\r\n\r\n                        // load item\r\n                        _handleItem(element, tag, elementImageBase, customLoader);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // when something was loaded remove them from remaining items\r\n            if (loadTriggered) {\r\n                items = $(items).filter(function() {\r\n                    return !$(this).data(handledName);\r\n                });\r\n            }\r\n        }\r\n\r\n        /**\r\n         * load the given element the lazy way\r\n         * @access private\r\n         * @param {object} element\r\n         * @param {string} tag\r\n         * @param {string} imageBase\r\n         * @param {function} [customLoader]\r\n         * @return void\r\n         */\r\n        function _handleItem(element, tag, imageBase, customLoader) {\r\n            // increment count of items waiting for after load\r\n            ++_awaitingAfterLoad;\r\n\r\n            // extended error callback for correct 'onFinishedAll' handling\r\n            var errorCallback = function() {\r\n                _triggerCallback('onError', element);\r\n                _reduceAwaiting();\r\n\r\n                // prevent further callback calls\r\n                errorCallback = $.noop;\r\n            };\r\n\r\n            // trigger function before loading image\r\n            _triggerCallback('beforeLoad', element);\r\n\r\n            // fetch all double used data here for better code minimization\r\n            var srcAttribute = config.attribute,\r\n                srcsetAttribute = config.srcsetAttribute,\r\n                sizesAttribute = config.sizesAttribute,\r\n                retinaAttribute = config.retinaAttribute,\r\n                removeAttribute = config.removeAttribute,\r\n                loadedName = config.loadedName,\r\n                elementRetina = element.attr(retinaAttribute);\r\n\r\n            // handle custom loader\r\n            if (customLoader) {\r\n                // on load callback\r\n                var loadCallback = function() {\r\n                    // remove attribute from element\r\n                    if (removeAttribute) {\r\n                        element.removeAttr(config.loaderAttribute);\r\n                    }\r\n\r\n                    // mark element as loaded\r\n                    element.data(loadedName, true);\r\n\r\n                    // call after load event\r\n                    _triggerCallback(_afterLoad, element);\r\n\r\n                    // remove item from waiting queue and possibly trigger finished event\r\n                    // it's needed to be asynchronous to run after filter was in _lazyLoadItems\r\n                    setTimeout(_reduceAwaiting, 1);\r\n\r\n                    // prevent further callback calls\r\n                    loadCallback = $.noop;\r\n                };\r\n\r\n                // bind error event to trigger callback and reduce waiting amount\r\n                element.off(_error).one(_error, errorCallback)\r\n\r\n                // bind after load callback to element\r\n                .one(_load, loadCallback);\r\n\r\n                // trigger custom loader and handle response\r\n                if (!_triggerCallback(customLoader, element, function(response) {\r\n                    if(response) {\r\n                        element.off(_load);\r\n                        loadCallback();\r\n                    }\r\n                    else {\r\n                        element.off(_error);\r\n                        errorCallback();\r\n                    }\r\n                })) {\r\n                    element.trigger(_error);\r\n                }\r\n            }\r\n\r\n            // handle images\r\n            else {\r\n                // create image object\r\n                var imageObj = $(new Image());\r\n\r\n                // bind error event to trigger callback and reduce waiting amount\r\n                imageObj.one(_error, errorCallback)\r\n\r\n                // bind after load callback to image\r\n                .one(_load, function() {\r\n                    // remove element from view\r\n                    element.hide();\r\n\r\n                    // set image back to element\r\n                    // do it as single 'attr' calls, to be sure 'src' is set after 'srcset'\r\n                    if (tag === _img) {\r\n                        element.attr(_sizes, imageObj.attr(_sizes))\r\n                               .attr(_srcset, imageObj.attr(_srcset))\r\n                               .attr(_src, imageObj.attr(_src));\r\n                    }\r\n                    else {\r\n                        element.css(_backgroundImage, \"url('\" + imageObj.attr(_src) + \"')\");\r\n                    }\r\n\r\n                    // bring it back with some effect!\r\n                    element[config.effect](config.effectTime);\r\n\r\n                    // remove attribute from element\r\n                    if (removeAttribute) {\r\n                        element.removeAttr(srcAttribute + ' ' + srcsetAttribute + ' ' + retinaAttribute + ' ' + config.imageBaseAttribute);\r\n\r\n                        // only remove 'sizes' attribute, if it was a custom one\r\n                        if (sizesAttribute !== _sizes) {\r\n                            element.removeAttr(sizesAttribute);\r\n                        }\r\n                    }\r\n\r\n                    // mark element as loaded\r\n                    element.data(loadedName, true);\r\n\r\n                    // call after load event\r\n                    _triggerCallback(_afterLoad, element);\r\n\r\n                    // cleanup image object\r\n                    imageObj.remove();\r\n\r\n                    // remove item from waiting queue and possibly trigger finished event\r\n                    _reduceAwaiting();\r\n                });\r\n\r\n                // set sources\r\n                // do it as single 'attr' calls, to be sure 'src' is set after 'srcset'\r\n                var imageSrc = (_isRetinaDisplay && elementRetina ? elementRetina : element.attr(srcAttribute)) || '';\r\n                imageObj.attr(_sizes, element.attr(sizesAttribute))\r\n                        .attr(_srcset, element.attr(srcsetAttribute))\r\n                        .attr(_src, imageSrc ? imageBase + imageSrc : null);\r\n\r\n                // call after load even on cached image\r\n                imageObj.complete && imageObj.trigger(_load); // jshint ignore : line\r\n            }\r\n        }\r\n\r\n        /**\r\n         * check if the given element is inside the current viewport or threshold\r\n         * @access private\r\n         * @param {object} element\r\n         * @return {boolean}\r\n         */\r\n        function _isInLoadableArea(element) {\r\n            var elementBound = element.getBoundingClientRect(),\r\n                direction    = config.scrollDirection,\r\n                threshold    = config.threshold,\r\n                vertical     = // check if element is in loadable area from top\r\n                               ((_getActualHeight() + threshold) > elementBound.top) &&\r\n                               // check if element is even in loadable are from bottom\r\n                               (-threshold < elementBound.bottom),\r\n                horizontal   = // check if element is in loadable area from left\r\n                               ((_getActualWidth() + threshold) > elementBound.left) &&\r\n                               // check if element is even in loadable area from right\r\n                               (-threshold < elementBound.right);\r\n\r\n            if (direction === 'vertical') {\r\n                return vertical;\r\n            }\r\n            else if (direction === 'horizontal') {\r\n                return horizontal;\r\n            }\r\n\r\n            return vertical && horizontal;\r\n        }\r\n\r\n        /**\r\n         * receive the current viewed width of the browser\r\n         * @access private\r\n         * @return {number}\r\n         */\r\n        function _getActualWidth() {\r\n            return _actualWidth >= 0 ? _actualWidth : (_actualWidth = $(window).width());\r\n        }\r\n\r\n        /**\r\n         * receive the current viewed height of the browser\r\n         * @access private\r\n         * @return {number}\r\n         */\r\n        function _getActualHeight() {\r\n            return _actualHeight >= 0 ? _actualHeight : (_actualHeight = $(window).height());\r\n        }\r\n\r\n        /**\r\n         * get lowercase tag name of an element\r\n         * @access private\r\n         * @param {object} element\r\n         * @returns {string}\r\n         */\r\n        function _getElementTagName(element) {\r\n            return element.tagName.toLowerCase();\r\n        }\r\n\r\n        /**\r\n         * prepend image base to all srcset entries\r\n         * @access private\r\n         * @param {string} srcset\r\n         * @param {string} imageBase\r\n         * @returns {string}\r\n         */\r\n        function _getCorrectedSrcSet(srcset, imageBase) {\r\n            if (imageBase) {\r\n                // trim, remove unnecessary spaces and split entries\r\n                var entries = srcset.split(',');\r\n                srcset = '';\r\n\r\n                for (var i = 0, l = entries.length; i < l; i++) {\r\n                    srcset += imageBase + entries[i].trim() + (i !== l - 1 ? ',' : '');\r\n                }\r\n            }\r\n\r\n            return srcset;\r\n        }\r\n\r\n        /**\r\n         * helper function to throttle down event triggering\r\n         * @access private\r\n         * @param {number} delay\r\n         * @param {function} callback\r\n         * @return {function}\r\n         */\r\n        function _throttle(delay, callback) {\r\n            var timeout,\r\n                lastExecute = 0;\r\n\r\n            return function(event, ignoreThrottle) {\r\n                var elapsed = +new Date() - lastExecute;\r\n\r\n                function run() {\r\n                    lastExecute = +new Date();\r\n                    // noinspection JSUnresolvedFunction\r\n                    callback.call(instance, event);\r\n                }\r\n\r\n                timeout && clearTimeout(timeout); // jshint ignore : line\r\n\r\n                if (elapsed > delay || !config.enableThrottle || ignoreThrottle) {\r\n                    run();\r\n                }\r\n                else {\r\n                    timeout = setTimeout(run, delay - elapsed);\r\n                }\r\n            };\r\n        }\r\n\r\n        /**\r\n         * reduce count of awaiting elements to 'afterLoad' event and fire 'onFinishedAll' if reached zero\r\n         * @access private\r\n         * @return void\r\n         */\r\n        function _reduceAwaiting() {\r\n            --_awaitingAfterLoad;\r\n\r\n            // if no items were left trigger finished event\r\n            if (!items.length && !_awaitingAfterLoad) {\r\n                _triggerCallback('onFinishedAll');\r\n            }\r\n        }\r\n\r\n        /**\r\n         * single implementation to handle callbacks, pass element and set 'this' to current instance\r\n         * @access private\r\n         * @param {string|function} callback\r\n         * @param {object} [element]\r\n         * @param {*} [args]\r\n         * @return {boolean}\r\n         */\r\n        function _triggerCallback(callback, element, args) {\r\n            if ((callback = config[callback])) {\r\n                // jQuery's internal '$(arguments).slice(1)' are causing problems at least on old iPads\r\n                // below is shorthand of 'Array.prototype.slice.call(arguments, 1)'\r\n                callback.apply(instance, [].slice.call(arguments, 1));\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        // if event driven or window is already loaded don't wait for page loading\r\n        if (config.bind === 'event' || windowLoaded) {\r\n            _initialize();\r\n        }\r\n\r\n        // otherwise load initial items and start lazy after page load\r\n        else {\r\n            // noinspection JSUnresolvedVariable\r\n            $(window).on(_load + '.' + namespace, _initialize);\r\n        }  \r\n    }\r\n\r\n    /**\r\n     * lazy plugin class constructor\r\n     * @constructor\r\n     * @access private\r\n     * @param {object} elements\r\n     * @param {object} settings\r\n     * @return {object|LazyPlugin}\r\n     */\r\n    function LazyPlugin(elements, settings) {\r\n        /**\r\n         * this lazy plugin instance\r\n         * @access private\r\n         * @type {object|LazyPlugin|LazyPlugin.prototype}\r\n         */\r\n        var _instance = this,\r\n\r\n        /**\r\n         * this lazy plugin instance configuration\r\n         * @access private\r\n         * @type {object}\r\n         */\r\n        _config = $.extend({}, _instance.config, settings),\r\n\r\n        /**\r\n         * instance generated event executed on container scroll or resize\r\n         * packed in an object to be referenceable and short named because properties will not be minified\r\n         * @access private\r\n         * @type {object}\r\n         */\r\n        _events = {},\r\n\r\n        /**\r\n         * unique namespace for instance related events\r\n         * @access private\r\n         * @type {string}\r\n         */\r\n        _namespace = _config.name + '-' + (++lazyInstanceId);\r\n\r\n        // noinspection JSUndefinedPropertyAssignment\r\n        /**\r\n         * wrapper to get or set an entry from plugin instance configuration\r\n         * much smaller on minify as direct access\r\n         * @access public\r\n         * @type {function}\r\n         * @param {string} entryName\r\n         * @param {*} [value]\r\n         * @return {LazyPlugin|*}\r\n         */\r\n        _instance.config = function(entryName, value) {\r\n            if (value === undefined) {\r\n                return _config[entryName];\r\n            }\r\n\r\n            _config[entryName] = value;\r\n            return _instance;\r\n        };\r\n\r\n        // noinspection JSUndefinedPropertyAssignment\r\n        /**\r\n         * add additional items to current instance\r\n         * @access public\r\n         * @param {Array|object|string} items\r\n         * @return {LazyPlugin}\r\n         */\r\n        _instance.addItems = function(items) {\r\n            _events.a && _events.a($.type(items) === 'string' ? $(items) : items); // jshint ignore : line\r\n            return _instance;\r\n        };\r\n\r\n        // noinspection JSUndefinedPropertyAssignment\r\n        /**\r\n         * get all left items of this instance\r\n         * @access public\r\n         * @returns {object}\r\n         */\r\n        _instance.getItems = function() {\r\n            return _events.g ? _events.g() : {};\r\n        };\r\n\r\n        // noinspection JSUndefinedPropertyAssignment\r\n        /**\r\n         * force lazy to load all items in loadable area right now\r\n         * by default without throttle\r\n         * @access public\r\n         * @type {function}\r\n         * @param {boolean} [useThrottle]\r\n         * @return {LazyPlugin}\r\n         */\r\n        _instance.update = function(useThrottle) {\r\n            _events.e && _events.e({}, !useThrottle); // jshint ignore : line\r\n            return _instance;\r\n        };\r\n\r\n        // noinspection JSUndefinedPropertyAssignment\r\n        /**\r\n         * force element(s) to load directly, ignoring the viewport\r\n         * @access public\r\n         * @param {Array|object|string} items\r\n         * @return {LazyPlugin}\r\n         */\r\n        _instance.force = function(items) {\r\n            _events.f && _events.f($.type(items) === 'string' ? $(items) : items); // jshint ignore : line\r\n            return _instance;\r\n        };\r\n\r\n        // noinspection JSUndefinedPropertyAssignment\r\n        /**\r\n         * force lazy to load all available items right now\r\n         * this call ignores throttling\r\n         * @access public\r\n         * @type {function}\r\n         * @return {LazyPlugin}\r\n         */\r\n        _instance.loadAll = function() {\r\n            _events.e && _events.e({all: true}, true); // jshint ignore : line\r\n            return _instance;\r\n        };\r\n\r\n        // noinspection JSUndefinedPropertyAssignment\r\n        /**\r\n         * destroy this plugin instance\r\n         * @access public\r\n         * @type {function}\r\n         * @return undefined\r\n         */\r\n        _instance.destroy = function() {\r\n            // unbind instance generated events\r\n            // noinspection JSUnresolvedFunction, JSUnresolvedVariable\r\n            $(_config.appendScroll).off('.' + _namespace, _events.e);\r\n            // noinspection JSUnresolvedVariable\r\n            $(window).off('.' + _namespace);\r\n\r\n            // clear events\r\n            _events = {};\r\n\r\n            return undefined;\r\n        };\r\n\r\n        // start using lazy and return all elements to be chainable or instance for further use\r\n        // noinspection JSUnresolvedVariable\r\n        _executeLazy(_instance, _config, elements, _events, _namespace);\r\n        return _config.chainable ? elements : _instance;\r\n    }\r\n\r\n    /**\r\n     * settings and configuration data\r\n     * @access public\r\n     * @type {object|*}\r\n     */\r\n    LazyPlugin.prototype.config = {\r\n        // general\r\n        name               : 'lazy',\r\n        chainable          : true,\r\n        autoDestroy        : true,\r\n        bind               : 'load',\r\n        threshold          : 500,\r\n        visibleOnly        : false,\r\n        appendScroll       : window,\r\n        scrollDirection    : 'both',\r\n        imageBase          : null,\r\n        defaultImage       : 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==',\r\n        placeholder        : null,\r\n        delay              : -1,\r\n        combined           : false,\r\n\r\n        // attributes\r\n        attribute          : 'data-src',\r\n        srcsetAttribute    : 'data-srcset',\r\n        sizesAttribute     : 'data-sizes',\r\n        retinaAttribute    : 'data-retina',\r\n        loaderAttribute    : 'data-loader',\r\n        imageBaseAttribute : 'data-imagebase',\r\n        removeAttribute    : true,\r\n        handledName        : 'handled',\r\n        loadedName         : 'loaded',\r\n\r\n        // effect\r\n        effect             : 'show',\r\n        effectTime         : 0,\r\n\r\n        // throttle\r\n        enableThrottle     : true,\r\n        throttle           : 250,\r\n\r\n        // callbacks\r\n        beforeLoad         : undefined,\r\n        afterLoad          : undefined,\r\n        onError            : undefined,\r\n        onFinishedAll      : undefined\r\n    };\r\n\r\n    // register window load event globally to prevent not loading elements\r\n    // since jQuery 3.X ready state is fully async and may be executed after 'load' \r\n    $(window).on('load', function() {\r\n        windowLoaded = true;\r\n    });\r\n})(window);"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}